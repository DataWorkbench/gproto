syntax = "proto3";

option go_package = "github.com/DataWorkbench/gproto/pkg/response";

package response;

import "github.com/mwitkow/go-proto-validators/validator.proto";
import "model.proto";

// ListWorkspaces used as reply parameters in RPC or response body in HTTP.
message ListWorkspaces {
	repeated model.Workspace infos = 1 [ (validator.field) = { } ];
	bool has_more = 2 [ (validator.field) = { } ];
}

// ListAudits used as reply parameters in RPC or response body in HTTP.
message ListAudits {
	repeated model.OpAudit infos = 1 [ (validator.field) = { } ];
	bool has_more = 2 [ (validator.field) = { } ];
}

// CreateWorkspace used as reply parameters in RPC or response body in HTTP.
message CreateWorkspace {
	// The workspace id that generated by system.
	string id = 1 [ (validator.field) = { length_eq: 20 } ];
}

// DescribeWorkspace used as reply parameters in RPC, And model.Workspace used as response body in HTTP.
message DescribeWorkspace {
	model.Workspace info = 1;
}

// ListSystemRoles used as reply parameters in RPC or response body in HTTP.
message ListMembers {
	message RoleList {
		repeated model.Role infos = 1;
	}
	repeated model.Member members = 1 [ (validator.field) = { } ];
	// map => "member_id": RoleList
	map<string, RoleList> roles = 2 [ (validator.field) = { } ];
}

// ListSystemRoles used as reply parameters in RPC or response body in HTTP.
message ListSystemRoles {
	repeated model.Role infos = 1 [ (validator.field) = { } ];
	bool has_more = 2 [ (validator.field) = { } ];
}
