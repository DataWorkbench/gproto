syntax = "proto3";

option go_package = "github.com/DataWorkbench/gproto/pkg/response";

package response;

import "github.com/mwitkow/go-proto-validators/validator.proto";
import "model.proto";

// ListWorkspaces used as reply parameters in RPC or response body in HTTP.
message ListWorkspaces {
	repeated model.Workspace infos = 1 [ (validator.field) = { } ];
	bool has_more = 2 [ (validator.field) = { } ];
	int64  total = 3 [ (validator.field) = { } ];
}

// ListAudits used as reply parameters in RPC or response body in HTTP.
message ListAudits {
	repeated model.OpAudit infos = 1 [ (validator.field) = { } ];
	bool has_more = 2 [ (validator.field) = { } ];
}

// CreateWorkspace used as reply parameters in RPC or response body in HTTP.
message CreateWorkspace {
	// The workspace id that generated by system.
	string id = 1 [ (validator.field) = { length_eq: 20 } ];
}

// DescribeWorkspace used as reply parameters in RPC, And model.Workspace used as response body in HTTP.
message DescribeWorkspace {
	model.Workspace info = 1;
}

// ListSystemRoles used as reply parameters in RPC or response body in HTTP.
message ListMembers {
	repeated model.Member infos = 1 [ (validator.field) = { } ];
	bool has_more = 2 [ (validator.field) = { } ];
	int64  total = 3 [ (validator.field) = { } ];
}

// ListSystemRoles used as reply parameters in RPC or response body in HTTP.
message ListSystemRoles {
	repeated model.Role infos = 1 [ (validator.field) = { } ];
	bool has_more = 2 [ (validator.field) = { } ];
	int64  total = 3 [ (validator.field) = { } ];
}

// ListStreamFlows used as reply parameters in RPC or response body in HTTP.
message ListStreamFlows {
	repeated model.StreamFlow infos = 1 [ (validator.field) = { msg_exists: false } ];
	bool has_more = 2 [ (validator.field) = { } ];
	int64  total = 3 [ (validator.field) = { } ];
}

// CreateStreamFlow used as reply parameters in RPC.
message CreateStreamFlow {
	// The workflow id that generated by system.
	string id = 1 [ (validator.field) = { length_eq: 20 } ];
}

// DescribeStreamFlow used as reply parameters in RPC.
message DescribeStreamFlow {
	model.StreamFlow info = 1;
}

// GetStreamFlowNode used as reply parameters in RPC.
message GetStreamFlowNode {
	// The node info of JSON format.
	string nodes = 1;
}

// GetStreamFlowEnv used as reply parameters in RPC.
message GetStreamFlowEnv {
	model.StreamFlowEnv info = 1;
}

// GetStreamFlowSchedule used as reply parameters in RPC.
message GetStreamFlowSchedule {
	model.StreamFlowSchedule info = 1;
}

// ListReleaseStreamFlows used as reply parameters in RPC or response body in HTTP.
message ListReleaseStreamFlows {
	repeated model.StreamFlowRelease infos = 1 [ (validator.field) = { msg_exists: false } ];
	bool has_more = 2 [ (validator.field) = { } ];
	int64  total = 3 [ (validator.field) = { } ];
}

// ListStreamFlowVersions used as reply parameters in RPC or response body in HTTP.
message ListStreamFlowVersions {
	repeated model.StreamFlow infos = 1 [ (validator.field) = { msg_exists: false } ];
	bool has_more = 2 [ (validator.field) = { } ];
}

// ListMonitorRules used as reply parameters in RPC or response body in HTTP.
message ListMonitorRules {
	repeated model.MonitorRule infos = 1 [ (validator.field) = { } ];
	bool has_more = 2 [ (validator.field) = { } ];
	int64  total = 3 [ (validator.field) = { } ];
}

// DescribeMonitorRule used as reply parameters in RPC.
message DescribeMonitorRule {
	model.MonitorRule info = 1 [ (validator.field) = { msg_exists: true } ];
}

// ListWorkspaces used as a request parameters for RPC and HTTP(based on URL-Query).
// This struct can used for ListStreamTestInst and ListStreamCycleInst
message ListStreamInsts {
	repeated model.StreamFlowInst infos = 1 [ (validator.field) = { } ];
	bool has_more = 2 [ (validator.field) = { } ];
}
